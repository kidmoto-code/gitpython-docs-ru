# Обзор / Установка

**GitPython** — это библиотека Python для взаимодействия с Git-репозиториями как на высоком уровне (через удобные `git-porcelain`-команды, которые используются повседневно), так и на низком (через базовые `git-plumbing`-команды, обычно не предназначенные для ручного вызова).

Библиотека предоставляет абстракции для работы с Git-объектами, что упрощает доступ к данным репозитория. Кроме того, она позволяет взаимодействовать с репозиторием напрямую — либо с помощью чистой Python-реализации, либо с использованием более быстрой, но и более ресурсоёмкой реализации на основе вызова Git-команд.

Объектная база данных оптимизирована для обработки большого количества объектов и работы с объёмными данными. Это достигается за счёт применения низкоуровневых структур и потокового чтения данных. **Проще говоря: GitPython эффективно работает даже с очень крупными репозиториями.**

# Зависимости

- **Python** >= 3.7
- **Git** 1.7.0 или новее

  > Примечание: Может работать и со старыми версиями Git, но некоторые операции с удалёнными репозиториями могут работать некорректно.

- **GitDB** — реализация базы данных Git на чистом Python
- **typing_extensions** >= 3.7.3.4 (только для Python < 3.10)

# Установка GitPython

Установить GitPython легко с помощью `pip`. Если `pip` уже установлен, просто выполните в командной строке:

```bash
$ pip install GitPython
```

Эта команда скачает последнюю версию GitPython из [Python Package Index](https://pypi.org/project/GitPython/) и установит её в вашу систему. Подробнее о `pip` и PyPI:
- [install pip](https://pip.pypa.io/en/latest/installing.html)
- [pypi](https://pypi.python.org/pypi/GitPython)

Альтернативный способ установки, вы также можете выполнить установку из дистрибутива с помощью скрипта `setup.py`:

```bash
$ python setup.py install
```
  > Примечание: В этом случае вам также потребуется вручную установить [GitDB](https://pypi.python.org/pypi/gitdb). Для такого способа установки рекомендуется использовать [исходный код из git-репозитория](https://gitpython.readthedocs.io/en/stable/intro.html#source-code-label).

# Ограничения

## Утечка системных ресурсов

GitPython не подходит для долго работающих процессов (таких как демоны), поскольку склонен к утечке системных ресурсов. Библиотека была создана в то время, когда деструкторы (реализованные в методе `__del__`) ещё выполнялись детерминировано, т.е. предсказуемо.

Если вы всё же хотите использовать её в таком контексте, вам следует найти в кодовой базе реализации `__del__` и вызывать эти методы самостоятельно, когда вы считаете нужным.

Другой способ обеспечить правильную очистку ресурсов - это вынести GitPython в отдельный процесс, который можно периодически перезапускать.

# Начало работы

- Это [руководство GitPython](quick-start.md) проведёт вас через основы функциональности и ключевые концепции библиотеки. Однако оно не является исчерпывающим, поэтому рекомендуется дополнительно ознакомиться со [Справочником API](api-reference.md).

# Справочник API

Структурированный раздел с документацией по API GitPython находится в [Справочнике API](api-reference.md).

# Исходный код

Git-репозиторий GitPython доступен на GitHub, его можно просмотреть по адресу:

- <https://github.com/gitpython-developers/GitPython>

и клонировать с помощью:

```bash
$ git clone https://github.com/gitpython-developers/GitPython git-python
```

Инициализируйте все подмодули для получения необходимых зависимостей с помощью:

```bash
$ cd git-python
$ git submodule update --init --recursive
```

Наконец, проверьте установку, запустив модульные тесты:

```bash
$ python -m unittest
```

# Вопросы и ответы

Пожалуйста, используйте Stack Overflow для задавания вопросов и не забывайте добавлять тег `gitpython`, чтобы нужные люди увидели ваш вопрос своевременно.

<http://stackoverflow.com/questions/tagged/gitpython>

# Issue трекер

Issue трекер размещён на GitHub:

<https://github.com/gitpython-developers/GitPython/issues>

# Информация о лицензии

GitPython распространяется по лицензии New BSD License. Подробнее см. в файле [LICENSE](https://github.com/gitpython-developers/GitPython/blob/main/LICENSE).
